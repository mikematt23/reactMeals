{"ast":null,"code":"import _toConsumableArray from\"C:/Users/amatt/Documents/CodingRefreash/reactJS-refreash/reactFoodOrder/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/amatt/Documents/CodingRefreash/reactJS-refreash/reactFoodOrder/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var CartContext=/*#__PURE__*/React.createContext({cartCount:0,onAddItem:function onAddItem(){},onRemoveItem:function onRemoveItem(){},meals:[],total:0});export var CartContextProvider=function CartContextProvider(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),total=_useState4[0],setTotal=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),count=_useState6[0],setCount=_useState6[1];var onSetTotal=function onSetTotal(price){setTotal(function(prev){var amount=price+prev;return amount;});};var updateCartTotal=function updateCartTotal(id,quantity){setTotal(0);setCount(0);cartItems.forEach(function(item){if(item.id===id){item.quantity=quantity;}onSetTotal(item.price*item.quantity);onSetCartCount(parseInt(item.quantity));});};var onSetCartCount=function onSetCartCount(quantity){setCount(function(prev){return quantity+prev;});};var addItem=function addItem(item){var inCart=false;cartItems.forEach(function(cartItem){if(item.id===cartItem.id){inCart=true;cartItem.quantity=cartItem.quantity+parseInt(item.quantity);}});if(!inCart){setCartItems(function(prevState){return[item].concat(_toConsumableArray(prevState));});}};var removeItem=function removeItem(id){var newCartItems=cartItems.filter(function(cartItem){if(cartItem.id!==id){return cartItem;}});setTotal(0);setCount(0);newCartItems.forEach(function(cartItem){onSetTotal(cartItem.price*cartItem.quantity);onSetCartCount(parseInt(cartItem.quantity));});setCartItems(newCartItems);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{removeItem:removeItem,onAddItem:addItem,count:count,meals:cartItems,total:total,onSetTotal:onSetTotal,onSetCartCount:onSetCartCount,updateCartTotal:updateCartTotal},children:props.children});};export default CartContext;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","CartContext","createContext","cartCount","onAddItem","onRemoveItem","meals","total","CartContextProvider","props","_useState","_useState2","_slicedToArray","cartItems","setCartItems","_useState3","_useState4","setTotal","_useState5","_useState6","count","setCount","onSetTotal","price","prev","amount","updateCartTotal","id","quantity","forEach","item","onSetCartCount","parseInt","addItem","inCart","cartItem","prevState","concat","_toConsumableArray","removeItem","newCartItems","filter","Provider","value","children"],"sources":["C:/Users/amatt/Documents/CodingRefreash/reactJS-refreash/reactFoodOrder/src/context/CartContext.js"],"sourcesContent":["import React,{useState, useEffect} from 'react'\r\n\r\nconst CartContext = React.createContext({\r\n  cartCount :0,\r\n  onAddItem : ()=>{},\r\n  onRemoveItem: ()=>{},\r\n  meals:[],\r\n  total:0\r\n})\r\n\r\nexport const CartContextProvider = (props)=>{\r\n  const [cartItems, setCartItems] = useState([])\r\n  const [total,setTotal] = useState(0)\r\n  const [count,setCount] =useState(0)\r\n \r\n  const onSetTotal = (price)=>{\r\n      setTotal((prev)=>{\r\n        const amount = price + prev\r\n        return amount\r\n      })\r\n  }\r\n  const updateCartTotal = (id, quantity)=>{\r\n    setTotal(0)\r\n    setCount(0)\r\n    cartItems.forEach((item)=>{    \r\n      if(item.id === id){\r\n        item.quantity = quantity\r\n      }\r\n      onSetTotal(item.price*item.quantity)\r\n      onSetCartCount(parseInt(item.quantity))\r\n    })\r\n  }\r\n\r\n  const onSetCartCount = (quantity)=>{\r\n    setCount((prev)=>{\r\n      return quantity + prev\r\n    })\r\n  }\r\n\r\n  const addItem = (item)=>{\r\n    let inCart =false\r\n    cartItems.forEach((cartItem)=>{\r\n      if(item.id === cartItem.id){\r\n        inCart =true\r\n        cartItem.quantity = cartItem.quantity + parseInt(item.quantity)\r\n      }\r\n    })\r\n    if(!inCart){\r\n      setCartItems((prevState )=>{\r\n        return [item,...prevState]\r\n      })\r\n    }\r\n   \r\n  }\r\n\r\n  const removeItem = (id)=>{\r\n    const newCartItems = cartItems.filter((cartItem)=>{\r\n      if(cartItem.id !== id){\r\n        return cartItem\r\n      }\r\n    })\r\n    setTotal(0)\r\n    setCount(0)\r\n    newCartItems.forEach((cartItem)=>{\r\n      onSetTotal(cartItem.price*cartItem.quantity)\r\n      onSetCartCount(parseInt(cartItem.quantity))\r\n    })\r\n    setCartItems(newCartItems)\r\n  }\r\n\r\n  return (\r\n    <CartContext.Provider value={{removeItem:removeItem ,onAddItem: addItem, count: count, meals:cartItems, total: total,onSetTotal:onSetTotal, onSetCartCount: onSetCartCount, updateCartTotal:updateCartTotal}}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  )\r\n}\r\n\r\nexport default CartContext"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}